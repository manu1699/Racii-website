<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RACII ‚Äî Cook Profile</title>
<link rel="stylesheet" href="style.css">
<style>
:root {
  --accent:#ff6b6b;
  --accent-dark:#e05555;
  --muted:#666;
}

body {
  margin:0;
  font-family:'Poppins',sans-serif;
  background:#e0e0e0;
  min-height:100vh;
  padding-top:70px;
}

.header {
  background:rgba(255,255,255,0.95);
  position:fixed;
  top:0;
  width:100%;
  z-index:1000;
  border-bottom:1px solid #ddd;
  padding:12px 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.nav .logo {
  font-size:1.5rem;
  font-weight:700;
  cursor:pointer;
}

.nav-links a {
  margin-left:16px;
  text-decoration:none;
  font-weight:600;
  color:#000;
}

.profile-container {
  max-width:900px;
  margin:0 auto;
  background:rgba(255,255,255,0.95);
  border-radius:16px;
  padding:24px;
  box-shadow:0 6px 20px rgba(0,0,0,0.12);
}

.profile-header {
  display:flex;
  align-items:center;
  gap:16px;
  margin-bottom:24px;
}

.profile-header img {
  width:120px;
  height:120px;
  border-radius:12px;
  object-fit:cover;
  cursor:pointer;
}

.profile-info input, .profile-info textarea {
  width:100%;
  padding:8px;
  margin-bottom:8px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:1rem;
}

.photos-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(100px,1fr));
  gap:10px;
  margin-top:12px;
}

.photos-grid img {
  width:100%;
  height:100px;
  object-fit:cover;
  border-radius:10px;
  cursor:pointer;
}

.btn {
  background:var(--accent);
  color:#fff;
  border:none;
  padding:12px;
  border-radius:10px;
  cursor:pointer;
  margin-top:16px;
  transition:0.25s ease;
}
.btn:hover {
  background:var(--accent-dark);
}

footer {
  text-align:center;
  padding:16px;
  margin-top:40px;
  background:rgba(255,255,255,0.85);
  border-top:1px solid #ddd;
}

/* MOBILE */
@media (max-width:768px){
  .profile-header { flex-direction:column; align-items:center; text-align:center;}
  .profile-info input, .profile-info textarea { font-size:0.95rem; }
}
</style>
</head>
<body>

<div class="header">
  <div class="nav container">
    <div class="logo">üç≥ RACII</div>
    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="find-cook.html">Back to List</a>
    </nav>
  </div>
</div>

<main class="profile-container">
  <div id="profile"></div>
</main>

<footer>
  ¬© 2025 RACII ‚Äî Share food, share culture.
</footer>

<script>
function getCookId() {
  const params = new URLSearchParams(window.location.search);
  return params.get('id');
}

function loadProfile() {
  const cookId = getCookId();
  const cooks = JSON.parse(localStorage.getItem('cooks')||'[]');
  const cook = cooks.find(c=>c.id===cookId);
  const container = document.getElementById('profile');

  if(!cook){
    container.innerHTML = '<p style="text-align:center; color:var(--muted)">Cook not found.</p>';
    return;
  }

  container.innerHTML = `
    <div class="profile-header">
      <div>
        <img id="profile-photo" src="${cook.profilePhoto || 'https://images.unsplash.com/photo-1604908177266-2f06c3a20a8a?auto=format&fit=crop&w=800&q=80'}" alt="Cook">
        <input type="file" id="upload-profile" style="margin-top:8px">
      </div>
      <div class="profile-info">
        <input type="text" id="name" value="${cook.name}" placeholder="Full Name">
        <input type="text" id="nationality" value="${cook.nationality}" placeholder="Nationality">
        <textarea id="bio" placeholder="Short Bio">${cook.bio}</textarea>
      </div>
    </div>

    <h3>Dish Photos</h3>
    <input type="file" id="upload-dish" multiple>
    <div class="photos-grid" id="dish-photos">
      ${cook.dishPhotos.map(d=>`<img src="${d}">`).join('')}
    </div>

    <h3 style="margin-top:18px;">Kitchen Photos</h3>
    <input type="file" id="upload-kitchen" multiple>
    <div class="photos-grid" id="kitchen-photos">
      ${cook.kitchenPhotos.map(k=>`<img src="${k}">`).join('')}
    </div>

    <button class="btn" id="save-profile">Save Changes</button>
  `;

  // Upload profile photo
  document.getElementById('upload-profile').onchange = function(e){
    const reader = new FileReader();
    reader.onload = ()=>{ 
      document.getElementById('profile-photo').src = reader.result;
      cook.profilePhoto = reader.result;
    }
    reader.readAsDataURL(e.target.files[0]);
  }

  // Upload dish photos
  document.getElementById('upload-dish').onchange = function(e){
    Array.from(e.target.files).forEach(file=>{
      const reader = new FileReader();
      reader.onload = ()=>{ 
        cook.dishPhotos.push(reader.result);
        const img = document.createElement('img');
        img.src = reader.result;
        document.getElementById('dish-photos').appendChild(img);
      }
      reader.readAsDataURL(file);
    });
  }

  // Upload kitchen photos
  document.getElementById('upload-kitchen').onchange = function(e){
    Array.from(e.target.files).forEach(file=>{
      const reader = new FileReader();
      reader.onload = ()=>{ 
        cook.kitchenPhotos.push(reader.result);
        const img = document.createElement('img');
        img.src = reader.result;
        document.getElementById('kitchen-photos').appendChild(img);
      }
      reader.readAsDataURL(file);
    });
  }

  // Save changes
  document.getElementById('save-profile').onclick = function(){
    cook.name = document.getElementById('name').value;
    cook.nationality = document.getElementById('nationality').value;
    cook.bio = document.getElementById('bio').value;
    localStorage.setItem('cooks', JSON.stringify(cooks));
    alert('Profile saved successfully!');
  }
}

window.addEventListener('DOMContentLoaded', loadProfile);
</script>

</body>
</html>
